extends base

block content
  #new-post-modal
    form#new-post(action="/createPost" method="post" enctype="multipart/form-data")
      input(type="hidden" id="cp-return-url" name="returnURL")
      input(type="text" id="cp-title" name="title" placeholder="Title")
      label(for="cp-image-src") Upload an image
      input(type="file" id="cp-image-src" name="imageSrc" accept="image/png, image/jpeg")
      #cp-image-uploaded
      textarea(type="text" id="cp-caption" name="caption" placeholder="Caption" rows="2" maxlength="100")
      input(type="submit" id="cp-submit")
  #content.container
    header.header-profile
      .details
        //- img.profile-pic(src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTakSD1xNifdNXl-8X_V3eB6NEYbqWc5w2MMg&usqp=CAU' alt='John Doe')
        img.profile-pic(src='#{user.pfpSrc}' alt='John Doe')
        h1.heading=user.username
        button#new-post-button Add Post
        .stats
          .col-4
            h4 {{user.posts|length}}
            p Posts
          .col-4
            h4 {{user.followers|length}}
            p Followers
          .col-4
            h4 {{user.following|length}}
            p Following
  main
    .grid
      each post in posts
        .post(onclick=('postClick("' + post['imageData'] + '","' + post['title'] + '","' + post['caption'] + '","' + post['user'] + '")'))
          img(src=post['imageData'] alt=post['title'])
    
    #pmodal.modal
      .post-modal
        span.close &times;
        a#puser(href="{{ url_for('index') }}") username
        #pgrid.grid
          .post
            img#pimg(src="" alt="hoho")
        p#ptitle title
        p#pcaption caption
